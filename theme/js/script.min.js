(()=>{var o=class{constructor(t,e={}){this.options=Object.assign({closeClickOutside:!1,forceStateClose:!1,forceStateOpen:!1,closeEsc:!1,forceStateRestore:!0},e),this.detail=t,this.summary=t.querySelector(":scope > summary"),this._previousStates={}}getMatchMedia(t,e){if(t){if(e&&e===!0)return{matches:!0};if(e&&"matchMedia"in window)return window.matchMedia(e)}}init(){let t=this.getMatchMedia(this.detail,this.options.forceStateOpen),e=this.getMatchMedia(this.detail,this.options.forceStateClose);t&&t.matches&&e&&e.matches?this.setState(!this.detail.open):(t&&t.matches&&this.setState(!0),e&&e.matches&&this.setState(!1)),this.addListener(t,"for-open"),this.addListener(e,"for-close")}addListener(t,e){!t||!("addListener"in t)||t.addListener(s=>{s.matches?(this._previousStates[e]=this.detail.open,this.detail.open!==(e==="for-open")&&this.setState(e==="for-open")):this.options.forceStateRestore&&this._previousStates[e]!==void 0&&this.detail.open!==this._previousStates[e]&&this.setState(this._previousStates[e])})}toggle(){let t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});this.summary.dispatchEvent(t)}triggerClickToClose(){this.summary&&this.options.closeClickOutside&&this.toggle()}setState(t){t?this.detail.setAttribute("open","open"):this.detail.removeAttribute("open")}},a=class{constructor(t){this.duration={open:200,close:150},this.detail=t,this.summary=this.detail.querySelector(":scope > summary");let e=this.detail.getAttribute("data-du-animate-target");if(e&&(this.content=this.detail.closest(e)),this.content||(this.content=this.summary.nextElementSibling),!this.content)throw new Error("For now <details-utils> requires a child element for animation.");this.summary.addEventListener("click",this.onclick.bind(this))}parseAnimationFrames(t,...e){let s=[];for(let n of e){let r={};r[t]=n,s.push(r)}return s}getKeyframes(t){let e=this.parseAnimationFrames("maxHeight","0px",`${this.getContentHeight()}px`);return t?e:e.filter(()=>!0).reverse()}getContentHeight(){if(this.contentHeight)return this.contentHeight;if(this.detail.open)return this.contentHeight=this.content.offsetHeight,this.contentHeight}animate(t,e){this.isPending=!0;let s=this.getKeyframes(t);this.animation=this.content.animate(s,{duration:e,easing:"ease-out"}),this.detail.classList.add("details-animating"),this.animation.finished.catch(n=>{}).finally(()=>{this.isPending=!1,this.detail.classList.remove("details-animating")}),t||this.animation.finished.catch(n=>{}).finally(()=>{this.detail.removeAttribute("open")})}open(){this.contentHeight?this.animate(!0,this.duration.open):requestAnimationFrame(()=>this.animate(!0,this.duration.open))}close(){this.animate(!1,this.duration.close)}useAnimation(){return"matchMedia"in window&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches}onclick(t){t.target.closest("a[href]")||!this.useAnimation()||(this.isPending?this.animation&&this.animation.cancel():this.detail.open?(t.preventDefault(),this.close()):this.open())}},l=class extends HTMLElement{constructor(){super(),this.attrs={animate:"animate",closeEsc:"close-esc",closeClickOutside:"close-click-outside",forceStateClose:"force-close",forceStateOpen:"force-open",forceStateRestore:"force-restore",toggleDocumentClass:"toggle-document-class",closeClickOutsideButton:"data-du-close-click"},this.options={},this._connect()}getAttributeValue(t){let e=this.getAttribute(t);return e===void 0||e===""?!0:e||!1}connectedCallback(){this._connect()}_connect(){if(this.children.length){this._init();return}this._observer=new MutationObserver(this._init.bind(this)),this._observer.observe(this,{childList:!0})}_init(){if(this.initialized)return;this.initialized=!0,this.options.closeClickOutside=this.getAttributeValue(this.attrs.closeClickOutside),this.options.closeEsc=this.getAttributeValue(this.attrs.closeEsc),this.options.forceStateClose=this.getAttributeValue(this.attrs.forceStateClose),this.options.forceStateOpen=this.getAttributeValue(this.attrs.forceStateOpen),this.options.forceStateRestore=this.getAttributeValue(this.attrs.forceStateRestore);let t=Array.from(this.querySelectorAll(":scope details"));for(let e of t)new o(e,this.options).init(),this.hasAttribute(this.attrs.animate)&&new a(e);this.bindCloseOnEsc(t),this.bindClickoutToClose(t),this.toggleDocumentClassName=this.getAttribute(this.attrs.toggleDocumentClass),this.toggleDocumentClassName&&this.bindToggleDocumentClass(t)}bindCloseOnEsc(t){this.options.closeEsc&&document.documentElement.addEventListener("keydown",e=>{if(e.keyCode===27){for(let s of t)if(s.open){let n=new o(s,this.options),r=n.getMatchMedia(s,this.options.closeEsc);(!r||r&&r.matches)&&n.toggle()}}},!1)}isChildOfParent(t,e){for(;t&&t.parentNode;){if(t.parentNode===e)return!0;t=t.parentNode}return!1}onClickoutToClose(t,e){let s=new o(t,this.options),n=s.getMatchMedia(t,this.options.closeClickOutside);if(n&&!n.matches)return;(e.target.hasAttribute(this.attrs.closeClickOutsideButton)||!this.isChildOfParent(e.target,t))&&t.open&&s.triggerClickToClose(t)}bindClickoutToClose(t){document.documentElement.addEventListener("mousedown",e=>{for(let s of t)this.onClickoutToClose(s,e)},!1),this.addEventListener("keypress",e=>{if(e.which===13||e.which===32)for(let s of t)this.onClickoutToClose(s,e)},!1)}bindToggleDocumentClass(t){for(let e of t)e.addEventListener("toggle",s=>{document.documentElement.classList.toggle(this.toggleDocumentClassName,s.target.open)})}};typeof window<"u"&&"customElements"in window&&window.customElements.define("details-utils",l);var h=i=>i?i.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details:not([disabled]), summary:not(:disabled)'):(console.warn("You need to pass a parent HTMLElement"),[]);var c=class extends HTMLElement{constructor(){super();let t=this;this.state=new Proxy({status:"open",enabled:!1},{set(e,s,n){let r=e[s];return e[s]=n,r!==n&&t.processStateChange(),e}})}get maxWidth(){return parseInt(this.getAttribute("max-width")||9999,10)}connectedCallback(){this.initialMarkup=this.innerHTML,this.render(),new ResizeObserver(e=>{let{contentRect:s}=e[0];this.state.enabled=s.width<=this.maxWidth}).observe(this.parentNode)}render(){this.innerHTML=`
      <div class="burger-menu" data-element="burger-root">
        <button class="burger-menu__trigger" data-element="burger-menu-trigger" type="button" aria-label="Open menu">
          <span class="burger-menu__bar" aria-hidden="true"></span>
        </button>
        <div class="burger-menu__panel" data-element="burger-menu-panel">
          ${this.initialMarkup} 
        </div>
      </div>
    `,this.postRender()}postRender(){if(this.trigger=this.querySelector('[data-element="burger-menu-trigger"]'),this.panel=this.querySelector('[data-element="burger-menu-panel"]'),this.root=this.querySelector('[data-element="burger-root"]'),this.focusableElements=h(this),this.trigger&&this.panel){this.toggle(),this.trigger.addEventListener("click",t=>{t.preventDefault(),this.toggle()}),document.addEventListener("focusin",()=>{this.contains(document.activeElement)||this.toggle("closed")});return}this.innerHTML=this.initialMarkup}toggle(t){if(t){if(this.state.status===t)return;this.state.status=t}else this.state.status=this.state.status==="closed"?"open":"closed"}processStateChange(){switch(this.root.setAttribute("status",this.state.status),this.root.setAttribute("enabled",this.state.enabled?"true":"false"),this.manageFocus(),this.state.status){case"closed":this.trigger.setAttribute("aria-expanded","false"),this.trigger.setAttribute("aria-label","Open menu");break;case"open":case"initial":this.trigger.setAttribute("aria-expanded","true"),this.trigger.setAttribute("aria-label","Close menu");break}}manageFocus(){if(!this.state.enabled){this.focusableElements.forEach(t=>t.removeAttribute("tabindex"));return}switch(this.state.status){case"open":this.focusableElements.forEach(t=>t.removeAttribute("tabindex"));break;case"closed":[...this.focusableElements].filter(t=>t.getAttribute("data-element")!=="burger-menu-trigger").forEach(t=>t.setAttribute("tabindex","-1"));break}}},u=c;function d(i,t){return{handler:i,config:t}}d.withOptions=function(i,t=()=>({})){function e(s){return{handler:i(s),config:t(s)}}return e.__isOptionsFunction=!0,e};var m=d,g={start(){if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",()=>this.observe());return}this.observe()},restart(){this._observers.forEach(i=>i.disconnect()),this._observers=[],this.observe()},observe(){let i=['[class*=" intersect:"]','[class*=":intersect:"]','[class^="intersect:"]','[class="intersect"]','[class*=" intersect "]','[class^="intersect "]','[class$=" intersect"]'];document.querySelectorAll(i.join(",")).forEach(t=>{let e=new IntersectionObserver(s=>{s.forEach(n=>{if(!n.isIntersecting){t.setAttribute("no-intersect","");return}t.removeAttribute("no-intersect"),t.classList.contains("intersect-once")&&e.disconnect()})},{threshold:this._getThreshold(t)});e.observe(t),this._observers.push(e)})},_getThreshold(i){return i.classList.contains("intersect-full")?.99:i.classList.contains("intersect-half")?.5:0},_observers:[]},f=g,w=m(({addVariant:i})=>{i("intersect","&:not([no-intersect])")});"customElements"in window&&customElements.define("burger-menu",u);(function(){let t=Array.from(document.querySelectorAll(".reel")),e=s=>{s.classList.toggle("overflowing",s.scrollWidth>s.clientWidth)};for(let s of t)"ResizeObserver"in window&&new ResizeObserver(n=>{e(n[0].target)}).observe(s),"MutationObserver"in window&&new MutationObserver(n=>{e(n[0].target)}).observe(s,{childList:!0})})();f.start();})();
